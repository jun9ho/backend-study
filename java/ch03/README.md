Java study notes
# Ch3: 상수와 형 변환

## final 선언
- `final` 키워드로 선언된 변수는 **값을 딱 한 번만 할당 가능**
- 한 번 할당된 값은 **변경 불가**
- 선언 시 바로 할당하지 않아도 됨
- **상수 이름 규칙**
  - 모두 대문자로 작성
  - 둘 이상의 단어는 **언더바(_)** 로 연결  
  - 예: `MAX_VALUE`, `PI_NUMBER`

---

## 리터럴 상수

### 정수형 상수
- 자바에서 정수는 기본적으로 **int형**으로 인식
- 표현 방법
  - 8진수: `0` 접두사 → 예: `012`
  - 16진수: `0x` 접두사 → 예: `0xA`
  - 2진수: `0b` 접두사 → 예: `0b1010`
- 숫자 중간에 `_` 사용 가능 → 예: `1_000_000`
- `byte`, `short` 전용 리터럴은 제공하지 않음
- `long` → 숫자 뒤에 `L` 또는 `l` 표시

### 실수형 상수
- 실수는 기본적으로 **double형**으로 인식
- double 명시: 숫자 뒤에 `D` 또는 `d`
- float 명시: 숫자 뒤에 `F` 또는 `f`
- 지수 표현 가능:
  - `3.4e3` → `3.4 × 10^3`  
  - `3.4e-3` → `3.4 × 10^-3`
- 표기법 예시:
  - `5.0 → 5.`  
  - `0.7f → .7f`  
  - `7.0f → 7.f`

### 부울형 상수 & 문자형 상수
- `true`, `false`
- 특수 문자(이스케이프 시퀀스)  
  - `\b` : 백스페이스  
  - `\t` : 탭  
  - `\\` : 역슬래시  
  - `\'` : 작은따옴표  
  - `\"` : 큰따옴표  
  - `\n` : 줄바꿈  
  - `\r` : 커서를 왼쪽 끝으로 이동  

---

## 형 변환 (Type Casting)

### 자동 형 변환 (Promotion)
- 자료형의 크기가 큰 방향으로 형 변환 발생  
- 정수 자료형보다 실수 자료형이 우선  
- 변환 계층 구조:  
  byte → short, char → int → long → float → double  
- 예시:  
  - `double num1 = 30;` → int가 double로 자동 변환  
  - `59L + 34.5` → long과 double 연산 → double로 자동 변환  
- 정수형 → 실수형 변환 시 데이터 손실은 없지만, 오차는 발생할 수 있음  

### 명시적 형 변환 (Casting)
- 큰 자료형 → 작은 자료형 변환 시 바이트가 잘려 나가 값이 달라질 수 있음  
- 예시:  
    ```
        (int) 3.14 → 3
        (short) 100000 → 오버플로우 발생
    
        short num1 = 1;
        short num2 = 2;
        short num3 = num1 + num2;  → 오류 발생
    ```

### 오류 발생 이유
- Java에서 byte, short, char 는 연산 시 자동으로 int로 승격됨  
- 따라서 num1 + num2 의 결과는 int 타입이 됨  
- int → short 대입 시 타입 불일치 오류 발생  

### 연산 규칙
- int + long → long  
- float + double → double  

### 해결 방법
- 명시적으로 형 변환을 해주어야 함  
`short num3 = (short)(num1 + num2);`
